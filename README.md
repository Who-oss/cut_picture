# 图片裁剪工具

一个功能强大的在线图片裁剪工具，可以将图片按固定尺寸裁剪成相同大小的方块。

## 🌟 功能特性

- **📤 多种上传方式**: 支持点击上传和拖拽上传
- **🎯 精确裁剪**: 自定义块的宽度和高度（像素级精度）
- **🔄 多种裁剪模式**: 支持按行、按列和网格三种裁剪模式，每种模式都可自定义参数
- **👁️ 实时预览**: 网格覆盖显示，实时查看裁剪效果
- **🖱️ 可拖拽网格**: 支持单个移动和整体移动两种拖拽模式
- **📋 智能复制**: 支持单独复制或合并复制图片到剪贴板
- **�📊 详细信息**: 显示原图信息和裁剪统计
- **💾 灵活下载**: 单个下载、批量下载或打包ZIP下载
- **📱 响应式设计**: 完美适配手机、平板和桌面设备
- **🎨 现代化界面**: 美观的渐变背景和流畅的动画效果

## 🚀 使用方法

### 1. 上传图片
- 点击"选择图片"按钮或直接拖拽图片到上传区域
- 支持 JPG、PNG、GIF 格式

### 2. 设置参数
- **裁剪模式**: 选择裁剪方式
  - **按行裁剪**：输入行数和每行高度，生成固定数量的水平长条
  - **按列裁剪**：输入列数和每列宽度，生成固定数量的垂直长条
  - **网格裁剪**：输入块宽度和块高度，生成规则网格
- **参数设置**: 根据选择的模式设置相应参数
  - 按行模式：行数（块数量）+ 每行高度（像素）
  - 按列模式：列数（块数量）+ 每列宽度（像素）
  - 网格模式：块宽度 + 块高度（像素）
- **显示网格**: 开启/关闭网格预览
- **拖拽模式**: 选择网格线移动方式
  - **单个移动**：只移动被拖拽的网格线，其他网格线保持不变
  - **整体移动**：移动所有网格线，保持相对间距不变
- **网格调整**: 
  - 拖动网格线：将鼠标悬停在网格线上，出现调整光标时可拖动
  - 重置网格：点击"重置网格位置"按钮恢复默认位置
- **智能验证**: 自动检测参数是否超出图片范围，超出时显示警告并禁用裁剪

### 3. 开始裁剪
- 点击"开始裁剪"按钮
- 系统会自动计算并生成所有图片块

### 4. 下载结果
- **选中所有图片**: 点击"选中所有图片"按钮选中所有结果，便于批量操作
- **复制合并图片**: 点击"复制合并图片"将所有图片合并成一张复制到剪贴板
- **单独复制**: 点击每个图片的"复制"按钮单独复制到剪贴板
- **单个下载**: 点击每个图片块的"下载"按钮
- **批量下载**: 点击"下载所有图片"按钮
- **打包下载**: 点击"打包下载"按钮获取ZIP文件

## 🛠️ 技术实现

### 前端技术
- **HTML5**: 语义化结构
- **CSS3**: 
  - Grid布局和Flexbox
  - CSS变量和渐变
  - 响应式媒体查询
  - 动画和过渡效果
- **JavaScript (ES6+)**:
  - File API 处理文件上传
  - Canvas API 进行图片裁剪
  - Drag & Drop API 拖拽上传
  - Promise/async 异步处理

### 核心功能实现
- **图片处理**: 使用Canvas 2D Context进行像素级裁剪
- **边界系统**: 边界数组驱动，确保网格预览与裁剪结果完全一致
- **拖拽系统**: 支持单个移动和整体移动两种模式的智能拖拽
- **网格显示**: 动态Canvas绘制，实时响应参数变化
- **文件下载**: Data URLs转换和程序化下载
- **ZIP打包**: 集成JSZip库实现批量打包

### 第三方库
- **Font Awesome**: 图标库
- **JSZip**: ZIP文件生成

## 📁 文件结构

```
.
├── index.html          # 主页面
├── style.css           # 样式文件
├── script.js           # JavaScript功能
└── README.md           # 说明文档
```

## 🌐 本地运行

### 方法一：直接打开
直接在浏览器中打开 `index.html` 文件即可使用。

### 方法二：HTTP服务器（推荐）
为了获得最佳体验，建议使用HTTP服务器：

```bash
# Python 3
python -m http.server 8000

# Python 2
python -m SimpleHTTPServer 8000

# Node.js
npx http-server

# PHP
php -S localhost:8000
```

然后在浏览器中访问 `http://localhost:8000`

## 💡 使用场景

- **按行裁剪**: 
  - 长图分页：将长截图按固定行数和行高分割
  - 文档分行：将文档扫描图按行分割（可自定义行数和行高）
  - 时间线切片：将时间轴图片按固定高度分段
  - 横幅切片：将横幅广告按指定高度切分
- **按列裁剪**: 
  - 多栏布局：将报纸、杂志按指定列数和列宽分割
  - 表格分列：将表格图片按列分割
  - 垂直菜单：将垂直导航按项目切分
  - 条形图切分：将并排条形图按列分离
- **网格裁剪**: 
  - 漫画分格：将漫画按格子裁剪
  - 拼图制作：制作拼图或瓷砖效果
  - 批量处理：生成统一尺寸的图片素材
  - 数据集预处理：机器学习数据预处理
  - 图片拼接：将大图切分成小块便于处理

## 🔧 浏览器兼容性

- Chrome 60+
- Firefox 60+
- Safari 12+
- Edge 79+

## 📝 更新日志

### v1.1.0 (2024-07-04)
- 新增整体移动和单个移动拖拽模式
- 改进网格拖拽体验
- 边界数组驱动系统，确保预览与裁剪结果100%一致
- 智能验证功能，防止参数超出范围
- 支持按行/列模式的块数量+尺寸自定义

### v1.0.0 (2024-01-01)
- 初始版本发布
- 基础裁剪功能
- 网格预览
- 多种下载方式
- 响应式设计

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个工具！

## 📄 许可证

MIT License

---

**享受使用这个图片裁剪工具！** 🎉
